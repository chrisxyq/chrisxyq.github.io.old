---
layout: post
title: synchronized锁升级
catalog: true
tags:
    - 多线程

---



**synchronized锁升级机制**

| 偏向锁   | 无竞争的时候sync使用偏向锁                                   |
| -------- | ------------------------------------------------------------ |
| 轻量级锁 | 偏向锁失败了（一个对象被不同的线程加锁了），就会升级为轻量级锁 |
| 重量级锁 | 有线程的竞争，就升级为重量级锁   轻量级锁替换失败到达一定次数（默认为10）后，轻量级锁升级为重量级锁。  需要注意，如果线程2自旋期间，有线程3也需要访问同步方法，则立刻由轻量级锁膨胀为重量级锁 |

### synchronized修饰代码块和修饰普通方法的区别

